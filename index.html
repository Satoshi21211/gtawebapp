<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Kinky Party 21+</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css?family=Russo+One|Montserrat:400,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --main-red: #5c1818;
      --main-dark: #191013;
      --main-yellow: #eecb13;
      --main-btn-red: #7a2323;
      --main-btn-red-hover: #a32e2e;
      --main-btn-black: #221217;
      --main-border: 2px solid #a32e2e;
      --main-radius: 18px;
      --main-shadow: 0 8px 32px #000a, 0 2px 8px #a32e2e66;
      --main-font: 'Montserrat', Arial, sans-serif;
      --main-title-font: 'Russo One', Arial, sans-serif;
    }
    html, body {
      min-height: 100vh; height: 100%;
      margin: 0; padding: 0;
      width: 100vw;
      background: var(--main-dark);
      font-family: var(--main-font);
      color: #fff;
      background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=900&q=80');
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      overscroll-behavior-y: contain;
      touch-action: manipulation;
      overflow-x: hidden;
    }
    .header {
      width: 100vw;
      text-align: center;
      font-family: var(--main-title-font);
      font-size: 2em;
      color: #fff;
      letter-spacing: 2.5px;
      padding: 1.2em 0 0.7em 0;
      background: linear-gradient(90deg, #3a0d12 0%, #6a1d1d 100%);
      border-radius: 0 0 25px 25px;
      text-shadow: 0 8px 30px #000e, 0 1px 2px #a32e2e;
      position: relative;
      z-index: 20;
      user-select: none;
      font-weight: 900;
      border-bottom: 3px solid #6a1d1d;
    }
    .header span {
      background: linear-gradient(90deg,#eecb13 0%, #ff3c3c 60%,#fff 100%);
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      font-weight: 900;
      letter-spacing: 0.04em;
    }
    .app-wrap {
      min-height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 0 80px 0;
    }
    .app-main {
      background: rgba(38,20,24,0.97);
      border-radius: var(--main-radius);
      box-shadow: var(--main-shadow);
      padding: 1.4em 1.3em 1.2em 1.3em;
      margin-top: 2em;
      min-width: 320px;
      max-width: 98vw;
      width: 370px;
      display: flex;
      flex-direction: column;
      align-items: center;
      border: var(--main-border);
      position: relative;
    }
    @media (max-width: 500px){
      .app-main {
        padding: 1em 0.2em 1.15em 0.2em;
        margin-top: 1.1em;
        min-width: 98vw;
        width: 98vw;
        border-radius: 0;
      }
      .header {
        font-size: 1.07em;
        padding: 1.15em 0 0.7em 0;
        border-radius: 0 0 18px 18px;
      }
    }
    .step-title {
      font-family: var(--main-title-font);
      font-size: 1.19em;
      color: #fff;
      margin-bottom: 1.1em;
      text-shadow: 0 1px 8px #a32e2e88;
      letter-spacing: 1.3px;
      text-align: center;
      font-weight: 800;
      border-bottom: 1.5px solid #a32e2e;
      padding-bottom: 0.3em;
    }
    .gender-select {
      display: flex;
      justify-content: center;
      gap: 3vw;
      margin-bottom: 2.1em;
      width: 100%;
      margin-top: 0.5em;
    }
    .gender-btn {
      font-family: var(--main-title-font);
      font-size: 1.01em;
      padding: 0.65em 1.3em;
      border: 2.2px solid #a32e2e;
      border-radius: 15px;
      font-weight: 900;
      cursor: pointer;
      box-shadow: 0 3px 16px #0008;
      outline: none;
      transition: background .14s, color .13s, box-shadow .13s, border .13s;
      color: #fff;
      background: #3a141a;
      opacity: 0.87;
      margin: 0 0.06em;
      display: flex;
      align-items: center;
      gap: 0.55em;
      min-width: 85px;
      min-height: 48px;
    }
    .gender-btn.selected,
    .gender-btn:active {
      opacity: 1;
      background: #a32e2e;
      border: 2.2px solid #eecb13;
      color: #eecb13;
      box-shadow: 0 2px 8px #a32e2e66;
    }
    .gender-icon {
      font-size: 1.65em;
      margin-bottom: 0;
      display: block;
      text-align: center;
    }
    .ticket-selection {
      width: 100%;
      margin-bottom: 2.2em;
      display: flex;
      flex-direction: column;
      gap: 1.4em;
    }
    .ticket-row {
      background: #31151d;
      border-radius: 14px;
      margin: 0.3em 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1.05em 0.5em 0.6em 0.5em;
      min-width: 0;
      box-shadow: 0 2px 13px #6a1d1d66;
      border: 1.3px solid #a32e2e;
    }
    .ticket-type {
      font-family: var(--main-title-font);
      color: #eecb13;
      font-size: 1.11em;
      margin-bottom: 0.19em;
      letter-spacing: 1.3px;
      font-weight: 800;
    }
    .ticket-desc {
      color: #ffe3f3;
      font-size: 0.97em;
      text-shadow: 0 0px 4px #6a1d1d33;
      margin-bottom: 0.2em;
      font-family: var(--main-font);
      font-weight: 600;
      text-align: center;
    }
    .ticket-btns {
      display: flex;
      gap: 1em;
      align-items: center;
      margin: 0.6em 0 0.3em 0;
      justify-content: center;
    }
    .ticket-btn {
      font-size: 1.07em;
      font-family: var(--main-title-font);
      background: #a32e2e;
      color: #fff;
      border-radius: 10px;
      border: 2px solid #eecb13;
      padding: 0.15em 1em;
      font-weight: 900;
      margin: 0 0.09em;
      outline: none;
      box-shadow: 0 2px 9px #2d0e0e33;
      cursor: pointer;
      transition: background .13s, color .12s, border .13s;
    }
    .ticket-btn:active {
      background: #eecb13;
      color: #a32e2e;
      border-color: #a32e2e;
    }
    .ticket-count {
      min-width: 2.2em;
      display: inline-block;
      font-size: 1.18em;
      font-family: var(--main-title-font);
      color: #eecb13;
      letter-spacing: 1px;
      text-align: center;
      font-weight: bold;
    }
    .total-price-row {
      width: 100%;
      margin-top: 0.8em;
      margin-bottom: 0.5em;
      text-align: center;
      font-family: var(--main-title-font);
      font-size: 1.13em;
      color: #eecb13;
      letter-spacing: 1.1px;
      text-shadow: 0 1px 7px #a32e2e99;
      background: #2c1015de;
      padding: 0.7em 0;
      border-radius: 12px;
      box-shadow: 0 2px 10px #a32e2e1f;
      border: 1.5px solid #a32e2e;
      font-weight: 900;
    }
    .buy-btn {
      width: 100%;
      font-size: 1.13em;
      font-family: var(--main-title-font);
      background: #a32e2e;
      color: #fff;
      border-radius: 13px;
      border: 2.3px solid #eecb13;
      padding: 1em 0;
      font-weight: 900;
      margin-top: 1.1em;
      outline: none;
      box-shadow: 0 2px 18px #a32e2e44, 0 2px 10px #eecb1315;
      cursor: pointer;
      transition: filter .13s, background .18s, color .13s, border .13s;
      letter-spacing: 1.2px;
    }
    .buy-btn:active {
      filter: brightness(0.97);
      background: #eecb13;
      color: #a32e2e;
      border-color: #a32e2e;
    }
    .gender-hint {
      color: #eecb13;
      font-size: 0.93em;
      margin-bottom: 0.7em;
      font-family: var(--main-font);
      letter-spacing: 0.2px;
      font-weight: 600;
      text-align: center;
    }
    .fadein {
      animation: fadein .60s;
    }
    @keyframes fadein {
      0%{opacity:0;transform:translateY(24px);}
      100%{opacity:1;transform:translateY(0);}
    }
    .qr-preview {
      margin: 1.2em 0 0.25em 0;
      text-align: center;
    }
    .qr-img {
      width: 140px;
      height:140px;
      display: block;
      margin: 0 auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 16px #000a;
      object-fit: contain;
      border:2px solid #a32e2e;
    }
    .success-msg, .pay-msg {
      color: #eecb13;
      font-size: 1.13em;
      font-family: var(--main-title-font);
      font-weight: 900;
      margin: 1.1em 0 0.7em 0;
      text-align: center;
      letter-spacing: 1.1px;
    }
    .pay-amount {
      color: #fff;
      background: #a32e2e;
      border-radius: 8px;
      font-size: 1.15em;
      font-family: var(--main-title-font);
      font-weight: 900;
      margin: 1.1em auto 1.2em auto;
      padding: 0.8em 0.8em;
      max-width: 270px;
      letter-spacing: 1.3px;
      border: 2px solid #eecb13;
      box-shadow: 0 2px 10px #a32e2e33;
      text-align: center;
    }
    .app-footer {
      position: fixed;
      bottom: 0; left: 0; width: 100vw;
      background: rgba(36,14,20,0.93);
      color: #a32e2e;
      text-align: center;
      font-size: 1.08em;
      font-family: var(--main-title-font);
      letter-spacing: 0.8px;
      padding: 0.58em 0 0.52em 0;
      z-index: 999;
      box-shadow: 0 -3px 12px #0004;
      user-select: none;
      font-weight: 600;
      border-top: 2px solid #a32e2e;
    }
  </style>
</head>
<body>
  <div class="header"><span>Kinky Party 21+</span></div>
  <div class="app-wrap">
    <div class="app-main" id="main-step">
      <!-- JS content -->
    </div>
  </div>
  <div class="app-footer">
    <span>–¢–æ–ª—å–∫–æ –¥–ª—è –ª–∏—Ü 21+ | –ë–∏–ª–µ—Ç—ã —Å—Ç—Ä–æ–≥–æ –ø–æ QR</span>
  </div>
  <script>
    let gender = null; // "male" | "female"
    let tickets = { fun: 0, vip: 0 };
    let prices = {
      male: { fun: 200, vip: 400 },
      female: { fun: 100, vip: 200 }
    };
    function renderGenderSelect() {
      document.getElementById('main-step').innerHTML = `
        <div class="step-title fadein">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø–æ–ª</div>
        <div class="gender-select fadein">
          <button class="gender-btn male${gender==='male'?' selected':''}" onclick="selectGender('male')">
            <span class="gender-icon">üë®</span>–ü–∞—Ä–µ–Ω—å
          </button>
          <button class="gender-btn female${gender==='female'?' selected':''}" onclick="selectGender('female')">
            <span class="gender-icon">üë©</span>–î–µ–≤—É—à–∫–∞
          </button>
        </div>
        <div class="gender-hint fadein">–¶–µ–Ω—ã –Ω–∞ –±–∏–ª–µ—Ç—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –¥–ª—è –ø–∞—Ä–Ω–µ–π –∏ –¥–µ–≤—É—à–µ–∫</div>
        <div style="margin-top:1.2em;"></div>
      `;
    }
    function selectGender(g) {
      gender = g;
      tickets = { fun: 0, vip: 0 };
      renderTicketSelection();
    }
    function renderTicketSelection() {
      let priceFun = prices[gender].fun;
      let priceVip = prices[gender].vip;
      document.getElementById('main-step').innerHTML = `
        <div class="step-title fadein">–í—ã–±–µ—Ä–∏—Ç–µ –±–∏–ª–µ—Ç</div>
        <div class="ticket-selection fadein">
          <div class="ticket-row">
            <div class="ticket-type">QR FUN</div>
            <div class="ticket-desc">–û–±—ã—á–Ω—ã–π –±–∏–ª–µ—Ç –Ω–∞ –≤–µ—á–µ—Ä–∏–Ω–∫—É</div>
            <div class="ticket-btns">
              <button class="ticket-btn" onclick="changeTicket('fun', -1)">-</button>
              <span class="ticket-count" id="fun-count">${tickets.fun}</span>
              <button class="ticket-btn" onclick="changeTicket('fun', 1)">+</button>
            </div>
            <div style="color:#eecb13;margin-top:0.3em;font-family:'Montserrat',sans-serif;">${priceFun}$</div>
          </div>
          <div class="ticket-row">
            <div class="ticket-type">QR VIP</div>
            <div class="ticket-desc">VIP –±–∏–ª–µ—Ç: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–æ–Ω–∞</div>
            <div class="ticket-btns">
              <button class="ticket-btn" onclick="changeTicket('vip', -1)">-</button>
              <span class="ticket-count" id="vip-count">${tickets.vip}</span>
              <button class="ticket-btn" onclick="changeTicket('vip', 1)">+</button>
            </div>
            <div style="color:#eecb13;margin-top:0.3em;font-family:'Montserrat',sans-serif;">${priceVip}$</div>
          </div>
        </div>
        <div class="total-price-row fadein">
          –ò—Ç–æ–≥–æ: <span id="total-price">${getTotalPrice()}$</span>
        </div>
        <button class="buy-btn fadein" onclick="showPayment()" id="to-pay-btn"
            ${getTotalPrice()===0?'disabled style="opacity:0.55;filter:grayscale(1);cursor:not-allowed;"':''}>
          –û—Ñ–æ—Ä–º–∏—Ç—å QR-–±–∏–ª–µ—Ç—ã
        </button>
        <button class="gta-btn fadein" style="margin-top:0.7em;width:100%;background:#3a141a;color:#eecb13;border:2px solid #a32e2e;font-family:'Russo One',sans-serif;" onclick="renderGenderSelect()">‚Üê –ù–∞–∑–∞–¥</button>
      `;
    }
    function changeTicket(type, delta) {
      tickets[type] += delta;
      if(tickets[type]<0) tickets[type]=0;
      document.getElementById(type+'-count').textContent = tickets[type];
      document.getElementById('total-price').textContent = getTotalPrice()+'$';
      let btn = document.getElementById('to-pay-btn');
      if (getTotalPrice()===0) {
        btn.disabled = true;
        btn.style.opacity = 0.55;
        btn.style.filter = "grayscale(1)";
        btn.style.cursor = "not-allowed";
      } else {
        btn.disabled = false;
        btn.style.opacity = 1;
        btn.style.filter = "none";
        btn.style.cursor = "pointer";
      }
    }
    function getTotalPrice() {
      if (!gender) return 0;
      return tickets.fun * prices[gender].fun + tickets.vip * prices[gender].vip;
    }
    function showPayment() {
      let sum = getTotalPrice();
      document.getElementById('main-step').innerHTML = `
        <div class="pay-msg fadein">–û–ø–ª–∞—Ç–∏—Ç–µ –Ω–∞ ZELLE –≤–æ—Ç —Ç–∞–∫—É—é —Å—É–º–º—É:</div>
        <div class="pay-amount fadein">${sum}$</div>
        <div class="qr-preview fadein" style="margin-top:1.3em;">
          <img class="qr-img" src="https://api.qrserver.com/v1/create-qr-code/?size=140x140&data=KINKY-${gender}-${Date.now()}" alt="QR">
        </div>
        <div class="gender-hint fadein" style="margin-top:1.2em;">–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø–æ–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç QR –∏ —á–µ–∫ –æ–ø–ª–∞—Ç—ã –Ω–∞ –≤—Ö–æ–¥–µ</div>
        <button class="buy-btn" style="margin-top:1.3em;" onclick="renderGenderSelect()">–ö—É–ø–∏—Ç—å –µ—â–µ</button>
      `;
    }
    // Initial render
    renderGenderSelect();
    // For mobile: scroll to form on reload
    window.onload = () => {
      setTimeout(()=>{ 
        document.getElementById('main-step').scrollIntoView({behavior: "smooth", block: "start"});
      }, 80);
    };
    // Prevent form submit
    document.addEventListener('submit', e=>e.preventDefault());
  </script>
</body>
</html>
